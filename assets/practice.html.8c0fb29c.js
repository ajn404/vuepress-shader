import{T as d,C as v,R as r,L as f,P as p,S as g,D as y,M as C,a as w,b as x}from"./practice.setup.0dbf3b95.js";import{_ as l,d as b,r as k,n as S,g as D,h as c,i as u,j as s,k as M,l as j}from"./app.d44df62d.js";var F="uniform vec2 u_resolution;uniform vec2 u_mouse;uniform float u_time;uniform sampler2D iChannel0;uniform sampler2D iChannel1;uniform int u_frame;void main(){float bug=0.0;vec3 tile=texture2D(iChannel0,gl_FragCoord.xy/u_resolution,0.).xyz;vec4 col=vec4(tile,1.0);bug=0.01;col.x+=bug;gl_FragColor=col;}",L="void main(){gl_Position=projectionMatrix*modelViewMatrix*vec4(position*0.4,1.0);}";const T=b({__name:"practice",setup(m){const a=new d,o=k(null),e={u_time:{value:0},u_mouse:{value:{x:0,y:0}},u_resolution:{value:{x:0,y:0}},u_color:{value:new v(65520)},u_frame:{type:"i",value:-1},iChannel0:{type:"t",value:""},iChannel1:{type:"t",value:""}},h=new w;let t=new x;return t.animate=function(){if(this.render(),e.u_time.value=h.getElapsedTime(),e.u_frame.value++,this.container.getBoundingClientRect().width>0)requestAnimationFrame(this.animate.bind(this));else return},t.move=function(n){e.u_mouse.value.x=n.touches?n.touches[0].clientX:n.clientX,e.u_mouse.value.y=n.touches?n.touches[0].clientY:n.clientY},"ontouchstart"in window?document.addEventListener("touchmove",t.move):document.addEventListener("mousemove",t.move),t.resize=function(){e.u_resolution!==void 0&&(e.u_resolution.value.x=this.width,e.u_resolution.value.y=this.height),e.u_frame.value=0,this.camera.aspect=this.container.clientWidth/this.container.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.render()},S(()=>{const n={container:o.value||document.body};a.load("/vuepress-shader/images/logo.jpg",i=>{i.wrapS=r,i.wrapT=r,i.minFilter=f,e.iChannel0.value=i,e.iChannel1.value=i,t.addObject=function(){this.geometry=new p(2,2),this.material=new g({uniforms:e,side:y,fragmentShader:F,vertexShader:L}),this.mesh=new C(this.geometry,this.material),this.scene.add(this.mesh)};try{t.init(n),t.camera.position.z=.52}catch(_){console.log(_)}})}),D(()=>{t.beforeDestroy()}),(n,i)=>(c(),u("div",{class:"practice fullscreen",ref_key:"container",ref:o},null,512))}});var z=l(T,[["__file","practice.vue"]]);const E={};function P(m,a){const o=z,e=j("ClientOnly");return c(),u("div",null,[s(e,null,{default:M(()=>[s(o)]),_:1})])}var R=l(E,[["render",P],["__file","practice.html.vue"]]);export{R as default};
