import{T as p,C as v,R as r,L as d,P as f,S as g,D as y,M as C,a as w,b as x}from"./practice.setup.0dbf3b95.js";import{_ as l,d as k,r as S,n as b,g as M,h as c,i as u,j as s,k as j,l as D}from"./app.d44df62d.js";var L="uniform vec2 u_resolution;uniform vec2 u_mouse;uniform float u_time;uniform sampler2D iChannel0;uniform sampler2D iChannel1;uniform int u_frame;varying vec3 v_position;void main(){vec3 color=vec3(0.0);color.r=clamp(v_position.x,0.0,1.0);color.g=clamp(v_position.y,0.0,1.0);color.b=clamp(v_position.x,0.25,0.75);gl_FragColor=vec4(color,1.0);}",T="varying vec3 v_position;void main(){v_position=position;gl_Position=projectionMatrix*modelViewMatrix*vec4(position*0.4,1.0);}";const E=k({__name:"practice.clamp",setup(m){const a=new p,o=S(null),e={u_time:{value:0},u_mouse:{value:{x:0,y:0}},u_resolution:{value:{x:0,y:0}},u_color:{value:new v(65520)},u_frame:{type:"i",value:-1},iChannel0:{type:"t",value:""},iChannel1:{type:"t",value:""}},_=new w;let i=new x;return i.animate=function(){if(this.render(),e.u_time.value=_.getElapsedTime(),e.u_frame.value++,this.container.getBoundingClientRect().width>0)requestAnimationFrame(this.animate.bind(this));else return},i.move=function(n){e.u_mouse.value.x=n.touches?n.touches[0].clientX:n.clientX,e.u_mouse.value.y=n.touches?n.touches[0].clientY:n.clientY},"ontouchstart"in window?document.addEventListener("touchmove",i.move):document.addEventListener("mousemove",i.move),i.resize=function(){e.u_resolution!==void 0&&(e.u_resolution.value.x=this.width,e.u_resolution.value.y=this.height),e.u_frame.value=0,this.camera.aspect=this.container.clientWidth/this.container.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.render()},b(()=>{const n={container:o.value||document.body};a.load("/vuepress-shader/images/logo.jpg",t=>{t.wrapS=r,t.wrapT=r,t.minFilter=d,e.iChannel0.value=t,e.iChannel1.value=t,i.addObject=function(){this.geometry=new f(2,2),this.material=new g({uniforms:e,side:y,fragmentShader:L,vertexShader:T}),this.mesh=new C(this.geometry,this.material),this.scene.add(this.mesh)};try{i.init(n)}catch(h){console.log(h)}})}),M(()=>{i.beforeDestroy()}),(n,t)=>(c(),u("div",{class:"practice fullscreen",ref_key:"container",ref:o},null,512))}});var F=l(E,[["__file","practice.clamp.vue"]]);const P={};function B(m,a){const o=F,e=D("ClientOnly");return c(),u("div",null,[s(e,null,{default:j(()=>[s(o)]),_:1})])}var W=l(P,[["render",B],["__file","usingClamp.html.vue"]]);export{W as default};
